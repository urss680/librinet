```html
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>App de Dibujo</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{background:#2c2c2c;font-family:Arial,sans-serif;overflow:hidden;display:flex;height:100vh}
        #toolbar{width:80px;background:#1e1e1e;display:flex;flex-direction:column;align-items:center;padding:10px 0;gap:15px;box-shadow:2px 0 8px rgba(0,0,0,.5)}
        .tool{width:50px;height:50px;border:none;border-radius:8px;background:#333;color:#fff;cursor:pointer;font-size:24px;transition:.2s}
        .tool:hover{background:#444}
        .tool.active{background:#0af}
        #colorPicker{width:50px;height:50px;border:none;border-radius:8px;cursor:pointer}
        #sizeSlider{width:50px;transform:rotate(-90deg);margin:20px 0}
        #canvas{flex:1;background:#fff;cursor:crosshair}
        #menu{position:absolute;top:10px;right:10px;display:flex;gap:10px}
        .menuBtn{padding:8px 14px;background:#0af;border:none;border-radius:6px;color:#fff;cursor:pointer}
        #shapeMenu{position:absolute;top:80px;left:90px;background:#1e1e1e;border-radius:8px;padding:10px;display:none;gap:10px;flex-wrap:wrap;width:200px}
        .shapeBtn{width:40px;height:40px;background:#333;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:20px}
        .shapeBtn:hover{background:#444}
        #zoomControls{position:absolute;bottom:10px;right:10px;display:flex;gap:10px;align-items:center}
        .zoomBtn{width:40px;height:40px;background:#0af;border:none;border-radius:6px;color:#fff;font-size:20px;cursor:pointer}
        #zoomLevel{background:#1e1e1e;color:#fff;padding:10px;border-radius:6px;line-height:20px}
    </style>
</head>
<body>
    <div id="toolbar">
        <button class="tool active" id="brush" title="Pincel">‚úèÔ∏è</button>
        <button class="tool" id="bucket" title="Cubo">ü™£</button>
        <button class="tool" id="eraser" title="Borrador">üßπ</button>
        <button class="tool" id="eraserDot" title="Borrador punto">‚≠ï</button>
        <button class="tool" id="shapes" title="Formas">üìê</button>
        <input type="color" id="colorPicker" value="#000000">
        <input type="range" id="sizeSlider" min="1" max="50" value="5">
    </div>
    <canvas id="canvas"></canvas>
    <div id="shapeMenu">
        <button class="shapeBtn" data-shape="line" title="L√≠nea">üìè</button>
        <button class="shapeBtn" data-shape="rect" title="Rect√°ngulo">‚ñ¢</button>
        <button class="shapeBtn" data-shape="circle" title="C√≠rculo">‚óã</button>
        <button class="shapeBtn" data-shape="triangle" title="Tri√°ngulo">‚ñ≥</button>
        <button class="shapeBtn" data-shape="star" title="Estrella">‚≠ê</button>
        <button class="shapeBtn" data-shape="heart" title="Coraz√≥n">‚ù§Ô∏è</button>
    </div>
    <div id="menu">
        <button class="menuBtn" id="savePNG">PNG</button>
        <button class="menuBtn" id="saveJPG">JPG</button>
        <button class="menuBtn" id="loadBtn">Cargar</button>
        <input type="file" id="fileInput" accept="image/*" style="display:none">
    </div>
    <div id="zoomControls">
        <button class="zoomBtn" id="zoomOut">-</button>
        <span id="zoomLevel">100%</span>
        <button class="zoomBtn" id="zoomIn">+</button>
    </div>

    <script>
        const canvas=document.getElementById('canvas');
        const ctx=canvas.getContext('2d');
        const tools=document.querySelectorAll('.tool');
        const colorPicker=document.getElementById('colorPicker');
        const sizeSlider=document.getElementById('sizeSlider');
        const savePNG=document.getElementById('savePNG');
        const saveJPG=document.getElementById('saveJPG');
        const loadBtn=document.getElementById('loadBtn');
        const fileInput=document.getElementById('fileInput');
        const shapeMenu=document.getElementById('shapeMenu');
        const shapeButtons=document.querySelectorAll('.shapeBtn');
        const zoomIn=document.getElementById('zoomIn');
        const zoomOut=document.getElementById('zoomOut');
        const zoomLevel=document.getElementById('zoomLevel');

        let currentTool='brush';
        let drawing=false;
        let size=5;
        let color='#000000';
        let currentShape=null;
        let startX,startY;
        let zoom=1;
        let panX=0,panY=0;
        let isPanning=false;
        let lastX,lastY;
        let imageData;

        function resizeCanvas(){
            canvas.width=window.innerWidth-80;
            canvas.height=window.innerHeight;
            ctx.lineCap='round';
            ctx.lineJoin='round';
        }
        resizeCanvas();
        window.addEventListener('resize',resizeCanvas);

        tools.forEach(btn=>btn.addEventListener('click',()=>{
            if(btn.id==='shapes'){
                shapeMenu.style.display=shapeMenu.style.display==='flex'?'none':'flex';
                return;
            }
            tools.forEach(b=>b.classList.remove('active'));
            btn.classList.add('active');
            currentTool=btn.id;
            currentShape=null;
            shapeMenu.style.display='none';
            canvas.style.cursor=(currentTool==='eraser'||currentTool==='eraserDot')?'grab':'crosshair';
        }));

        shapeButtons.forEach(btn=>btn.addEventListener('click',()=>{
            currentShape=btn.dataset.shape;
            currentTool='shapes';
            tools.forEach(b=>b.classList.remove('active'));
            document.getElementById('shapes').classList.add('active');
            shapeMenu.style.display='none';
        }));

        colorPicker.addEventListener('change',e=>color=e.target.value);
        sizeSlider.addEventListener('input',e=>size=e.target.value);

        function getPos(e){
            const rect=canvas.getBoundingClientRect();
            return{x:(e.clientX-rect.left-panX)/zoom,y:(e.clientY-rect.top-panY)/zoom};
        }

        function floodFill(x,y,fillColor){
            const imgData=ctx.getImageData(0,0,canvas.width,canvas.height);
            const data=imgData.data;
            const targetColor=getPixel(data,x,y);
            if(colorsEqual(targetColor,hexToRgba(fillColor)))return;
            const stack=[[x,y]];
            const visited=new Uint8Array(canvas.width*canvas.height);
            function getPixel(data,x,y){
                const i=(y*canvas.width+x)*4;
                return[data[i],data[i+1],data[i+2],data[i+3]];
            }
            function setPixel(data,x,y,c){
                const i=(y*canvas.width+x)*4;
                data[i]=c[0];data[i+1]=c[1];data[i+2]=c[2];data[i+3]=c[3];
            }
            function hexToRgba(hex){
                const r=parseInt(hex.slice(1,3),16);
                const g=parseInt(hex.slice(3,5),16);
                const b=parseInt(hex.slice(5,7),16);
                return[r,g,b,255];
            }
            function colorsEqual(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}
            while(stack.length){
                const[px,py]=stack.pop();
                if(px<0||py<0||px>=canvas.width||py>=canvas.height)continue;
                const idx=py*canvas.width+px;
                if(visited[idx])continue;
                visited[idx]=1;
                const c=getPixel(data,px,py);
                if(!colorsEqual(c,targetColor))continue;
                setPixel(data,px,py,hexToRgba(fillColor));
                stack.push([px+1,py],[px-1,py],[px,py+1],[px,py-1]);
            }
            ctx.putImageData(imgData,0,0);
        }

        function drawShape(shape,x1,y1,x2,y2){
            ctx.save();
            ctx.translate(panX,panY);
            ctx.scale(zoom,zoom);
            ctx.strokeStyle=color;
            ctx.lineWidth=size;
            ctx.fillStyle=color;
            ctx.globalCompositeOperation=(currentTool==='eraser'||currentTool==='eraserDot')?'destination-out':'source-over';
            const width=x2-x1;
            const height=y2-y1;
            switch(shape){
                case'line':
                    ctx.beginPath();
                    ctx.moveTo(x1,y1);
                    ctx.lineTo(x2,y2);
                    ctx.stroke();
                    break;
                case'rect':
                    ctx.beginPath();
                    ctx.rect(x1,y1,width,height);
                    ctx.stroke();
                    break;
                case'circle':
                    const radius=Math.sqrt(width*width+height*height)/2;
                    ctx.beginPath();
                    ctx.arc(x1+width/2,y1+height/2,radius,0,Math.PI*2);
                    ctx.stroke();
                    break;
                case'triangle':
                    ctx.beginPath();
                    ctx.moveTo(x1+width/2,y1);
                    ctx.lineTo(x1,y2);
                    ctx.lineTo(x2,y2);
                    ctx.closePath();
                    ctx.stroke();
                    break;
                case'star':
                    const cx=x1+width/2;
                    const cy=y1+height/2;
                    const outerRadius=Math.min(width,height)/2;
                    const innerRadius=outerRadius*0.4;
                    const points=5;
                    ctx.beginPath();
                    for(let i=0;i<points*2;i++){
                        const angle=(i*Math.PI)/points;
                        const radius=i%2===0?outerRadius:innerRadius;
                        const x=cx+radius*Math.cos(angle-Math.PI/2);
                        const y=cy+radius*Math.sin(angle-Math.PI/2);
                        if(i===0)ctx.moveTo(x,y);
                        else ctx.lineTo(x,y);
                    }
                    ctx.closePath();
                    ctx.stroke();
                    break;
                case'heart':
                    const hx=x1+width/2;
                    const hy=y1+height/2;
                    const scale=Math.min(width,height)/40;
                    ctx.beginPath();
                    ctx.moveTo(hx,hy+scale*5);
                    ctx.bezierCurveTo(hx,hy+scale*0,hx-scale*10,hy-scale*5,hx-scale*10,hy-scale*10);
                    ctx.bezierCurveTo(hx-scale*10,hy-scale*20,hx,hy-scale*15,hx,hy-scale*15);
                    ctx.bezierCurveTo(hx,hy-scale*15,hx+scale*10,hy-scale*20,hx+scale*10,hy-scale*10);
                    ctx.bezierCurveTo(hx+scale*10,hy-scale*5,hx,hy+scale*0,hx,hy+scale*5);
                    ctx.stroke();
                    break;
            }
            ctx.restore();
        }

        canvas.addEventListener('wheel',e=>{
            e.preventDefault();
            const delta=e.deltaY>0?0.9:1.1;
            const newZoom=Math.max(0.1,Math.min(5,zoom*delta));
            const{x,y}=getPos(e);
            panX=e.clientX-x*newZoom;
            panY=e.clientY-y*newZoom;
            zoom=newZoom;
            zoomLevel.textContent=Math.round(zoom*100)+'%';
        });

        zoomIn.addEventListener('click',()=>{
            zoom=Math.min(5,zoom*1.2);
            zoomLevel.textContent=Math.round(zoom*100)+'%';
        });

        zoomOut.addEventListener('click',()=>{
            zoom=Math.max(0.1,zoom/1.2);
            zoomLevel.textContent=Math.round(zoom*100)+'%';
        });

        canvas.addEventListener('mousedown',e=>{
            if(e.button===1||(e.button===0&&e.ctrlKey)){
                isPanning=true;
                lastX=e.clientX;
                lastY=e.clientY;
                canvas.style.cursor='move';
                return;
            }
            drawing=true;
            const{x,y}=getPos(e);
            if(currentTool==='bucket'){
                floodFill(Math.floor(x),Math.floor(y),color);
                drawing=false;
                return;
            }
            if(currentShape){
                startX=x;
                startY=y;
                imageData=ctx.getImageData(0,0,canvas.width,canvas.height);
                return;
            }
            ctx.beginPath();
            ctx.moveTo(x,y);
        });

        canvas.addEventListener('mousemove',e=>{
            if(isPanning){
                panX+=e.clientX-lastX;
                panY+=e.clientY-lastY;
                lastX=e.clientX;
                lastY=e.clientY;
                return;
            }
            if(!drawing)return;
            const{x,y}=getPos(e);
            if(currentShape){
                ctx.putImageData(imageData,0,0);
                drawShape(currentShape,startX,startY,x,y);
                return;
            }
            ctx.lineWidth=size;
            if(currentTool==='brush')ctx.globalCompositeOperation='source-over';
            if(currentTool==='eraser')ctx.globalCompositeOperation='destination-out';
            if(currentTool==='eraserDot'){
                ctx.globalCompositeOperation='destination-out';
                ctx.beginPath();
                ctx.arc(x,y,size/2,0,Math.PI*2);
                ctx.fill();
                return;
            }
            ctx.lineTo(x,y);
            ctx.stroke();
        });

        window.addEventListener('mouseup',e=>{
            if(isPanning){
                isPanning=false;
                canvas.style.cursor='crosshair';
                return;
            }
            if(drawing&&currentShape){
                const{x,y}=getPos(e);
                drawShape(currentShape,startX,startY,x,y);
            }
            drawing=false;
            ctx.beginPath();
        });

        savePNG.addEventListener('click',()=>{
            const link=document.createElement('a');
            link.download='dibujo.png';
            link.href=canvas.toDataURL('image/png');
            link.click();
        });

        saveJPG.addEventListener('click',()=>{
            const link=document.createElement('a');
            link.download='dibujo.jpg';
            link.href=canvas.toDataURL('image/jpeg',0.9);
            link.click();
        });

        loadBtn.addEventListener('click',()=>fileInput.click());
        fileInput.addEventListener('change',e=>{
            const file=e.target.files[0];
            if(!file)return;
            const img=new Image();
            img.onload=()=>{
                ctx.clearRect(0,0,canvas.width,canvas.height);
                ctx.drawImage(img,0,0,canvas.width,canvas.height);
            };
            img.src=URL.createObjectURL(file);
        });
    </script>
</body>
</html>
```