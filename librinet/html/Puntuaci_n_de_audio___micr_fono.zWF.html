```html
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <title>Puntuación de audio + micrófono</title>
  <style>
    body {font-family: Arial, sans-serif; background:#111; color:#0f0; text-align:center; padding:2rem;}
    button {padding:.8rem 1.5rem; font-size:1.2rem; margin:.5rem; border:none; border-radius:5px; cursor:pointer;}
    #startBtn {background:#28a745; color:#fff;}
    #stopBtn {background:#dc3545; color:#fff;}
    #score {font-size:2.5rem; margin-top:1rem;}
    #final {font-size:1.8rem; color:#ffc107; margin-top:1rem;}
  </style>
</head>
<body>
  <h1>Analizador de audio + micrófono</h1>
  
  <button id="startBtn">Iniciar análisis</button>
  <button id="stopBtn" disabled>Detener</button>
  
  <div id="score">Puntuación: <span id="points">0</span></div>
  <div id="final"></div>

<script>
const startBtn = document.getElementById('startBtn');
const stopBtn = document.getElementById('stopBtn');
const pointsSpan = document.getElementById('points');
const finalDiv = document.getElementById('final');

let audioCtx, analyserMic, analyserSys, micSource, sysSource;
let points = 0;
let running = false;

async function start() {
  points = 0;
  pointsSpan.textContent = points;
  finalDiv.textContent = '';
  running = true;
  startBtn.disabled = true;
  stopBtn.disabled = false;

  audioCtx = new (window.AudioContext || window.webkitAudioContext)();

  // Micrófono
  const micStream = await navigator.mediaDevices.getUserMedia({audio:true});
  analyserMic = audioCtx.createAnalyser();
  analyserMic.fftSize = 512;
  micSource = audioCtx.createMediaStreamSource(micStream);
  micSource.connect(analyserMic);

  // Audio del sistema (pestaña/ventana)
  const sysStream = await navigator.mediaDevices.getDisplayMedia({audio:true});
  analyserSys = audioCtx.createAnalyser();
  analyserSys.fftSize = 512;
  sysSource = audioCtx.createMediaStreamSource(sysStream);
  sysSource.connect(analyserSys);

  // Análisis
  function analyze() {
    if (!running) return;

    const dataMic = new Uint8Array(analyserMic.frequencyBinCount);
    const dataSys = new Uint8Array(analyserSys.frequencyBinCount);
    analyserMic.getByteFrequencyData(dataMic);
    analyserSys.getByteFrequencyData(dataSys);

    const volMic = Math.hypot(...dataMic) / dataMic.length;
    const volSys = Math.hypot(...dataSys) / dataSys.length;

    const threshold = 10; // ajusta sensibilidad si quieres
    if (volMic > threshold && volSys > threshold) {
      points++;
      pointsSpan.textContent = points;
    }

    requestAnimationFrame(analyze);
  }
  analyze();
}

function stop() {
  running = false;
  if (micSource) micSource.disconnect();
  if (sysSource) sysSource.disconnect();
  if (audioCtx) audioCtx.close();
  startBtn.disabled = false;
  stopBtn.disabled = true;
  finalDiv.textContent = `Puntuación final: ${points}`;
}

startBtn.onclick = start;
stopBtn.onclick = stop;
</script>
</body>
</html>
```