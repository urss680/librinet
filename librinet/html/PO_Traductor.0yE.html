```html
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <title>PO Traductor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <style>
    :root{
      --bg:#f2f2f2;
      --panel:#fff;
      --accent:#007bff;
      --accentDark:#0056b3;
      --radius:8px;
      --shadow:0 4px 15px rgba(0,0,0,.15);
    }
    body{
      margin:0;
      font-family:Arial,Helvetica,sans-serif;
      background:var(--bg);
      display:flex;
      height:100vh;
      align-items:center;
      justify-content:center;
    }
    .container{
      background:var(--panel);
      padding:30px 40px;
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      width:100%;
      max-width:900px;
      display:flex;
      flex-direction:column;
      gap:15px;
    }
    .title-wrap{
      position:relative;
      height:70px;
      border-radius:var(--radius);
      overflow:hidden;
      margin-bottom:10px;
    }
    .title-bg{
      position:absolute;
      inset:0;
      background:linear-gradient(45deg,#ff007f,#ffeb3b,#00e676,#2196f3,#ff007f);
      background-size:400% 400%;
      animation:move 6s ease infinite;
    }
    @keyframes move{
      0%{background-position:0% 50%;}
      50%{background-position:100% 50%;}
      100%{background-position:0% 50%;}
    }
    h1{
      position:relative;
      text-align:center;
      line-height:70px;
      margin:0;
      font-size:1.8rem;
      color:#fff;
      mix-blend-mode:difference;
    }
    .subtitle{
      text-align:center;
      margin:0 0 15px;
      font-size:0.8rem;
      color:#666;
    }
    .row{
      display:flex;
      gap:15px;
      align-items:center;
    }
    .col{
      flex:1;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    textarea{
      width:100%;
      min-height:120px;
      resize:vertical;
      padding:10px;
      font-size:1rem;
      border:1px solid #ccc;
      border-radius:var(--radius);
      box-sizing:border-box;
    }
    .controls{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:center;
      flex-wrap:wrap;
    }
    select,button,input[type="file"]{
      padding:8px 12px;
      font-size:1rem;
      border-radius:var(--radius);
      border:1px solid #ccc;
    }
    button{
      background:var(--accent);
      color:#fff;
      border:none;
      cursor:pointer;
      transition:background .3s;
    }
    button:hover{
      background:var(--accentDark);
    }
    #swapLang{
      background:#6c757d;
    }
    #swapLang:hover{
      background:#5a6268;
    }
    #output{
      background:#fafafa;
      border:1px solid #ccc;
      border-radius:var(--radius);
      padding:10px;
      min-height:120px;
      white-space:pre-wrap;
      word-break:break-word;
      position:relative;
      overflow:hidden;
    }
    #historyList{
      max-height:120px;
      overflow-y:auto;
      border:1px solid #ccc;
      border-radius:var(--radius);
      padding:5px;
      background:#fafafa;
    }
    #historyList div{
      padding:5px;
      cursor:pointer;
      border-radius:4px;
    }
    #historyList div:hover{
      background:#e2e6ea;
    }
    #pronounceBtn{
      background:#28a745;
    }
    #pronounceBtn:hover{
      background:#218838;
    }
    #copyBtn{
      background:#17a2b8;
    }
    #copyBtn:hover{
      background:#138496;
    }
    #clearBtn{
      background:#dc3545;
    }
    #clearBtn:hover{
      background:#c82333;
    }
    #darkModeToggle{
      background:#343a40;
    }
    #darkModeToggle:hover{
      background:#23272b;
    }
    body.dark{
      --bg:#121212;
      --panel:#1e1e1e;
      --accent:#4dabf7;
      --accentDark:#339af0;
      color:#e0e0e0;
    }
    body.dark textarea,
    body.dark select,
    body.dark #output,
    body.dark #historyList{
      background:#2c2c2c;
      color:#e0e0e0;
      border-color:#444;
    }
    .lang-row{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      margin-bottom:10px;
    }
    /* Degradado radial en movimiento */
    .loading{
      position:absolute;
      inset:0;
      background:radial-gradient(circle at 50% 50%, var(--accent) 0%, transparent 70%);
      background-size:200% 200%;
      animation:move 1.5s ease-in-out infinite;
      opacity:0;
      pointer-events:none;
    }
    .loading.active{
      opacity:.6;
    }
    @keyframes move{
      0%{background-position:0% 50%;}
      50%{background-position:100% 50%;}
      100%{background-position:0% 50%;}
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="title-wrap">
      <div class="title-bg"></div>
      <h1>TRADUCTOR</h1>
    </div>
    <div class="subtitle">Librillia</div>

    <div class="row">
      <div class="col">
        <label>Texto original</label>
        <textarea id="inputText" placeholder="Escribe o pega aqu√≠..."></textarea>
      </div>
      <div class="col">
        <label>Texto traducido</label>
        <div id="output">
          <div class="loading" id="loader"></div>
        </div>
      </div>
    </div>

    <div class="lang-row">
      <select id="sourceLang"></select>
      <button id="swapLang" title="Intercambiar idiomas">‚áÑ</button>
      <select id="targetLang"></select>
    </div>

    <div class="controls">
      <button id="translateBtn">Traducir</button>
      <button id="pronounceBtn">üîä Escuchar</button>
      <button id="copyBtn">üìã Copiar</button>
      <button id="clearBtn">üóëÔ∏è Limpiar</button>
      <button id="darkModeToggle">üåô</button>
    </div>

    <div>
      <label>Historial (click para restaurar)</label>
      <div id="historyList"></div>
    </div>
  </div>

  <script>
    const langs={
      "es":"Espa√±ol","en":"Ingl√©s","fr":"Franc√©s","de":"Alem√°n","it":"Italiano","pt":"Portugu√©s",
      "ru":"Ruso","ja":"Japon√©s","ko":"Coreano","zh":"Chino","ar":"√Årabe","hi":"Hindi"
    };
    const sourceSel=document.getElementById('sourceLang');
    const targetSel=document.getElementById('targetLang');
    Object.keys(langs).forEach(k=>{
      sourceSel.innerHTML+=`<option value="${k}">${langs[k]}</option>`;
      targetSel.innerHTML+=`<option value="${k}">${langs[k]}</option>`;
    });
    sourceSel.value='es'; targetSel.value='en';

    const inputText=document.getElementById('inputText');
    const output=document.getElementById('output');
    const translateBtn=document.getElementById('translateBtn');
    const swapBtn=document.getElementById('swapLang');
    const pronounceBtn=document.getElementById('pronounceBtn');
    const copyBtn=document.getElementById('copyBtn');
    const clearBtn=document.getElementById('clearBtn');
    const darkModeToggle=document.getElementById('darkModeToggle');
    const historyList=document.getElementById('historyList');
    const loader=document.getElementById('loader');

    let history=[];

    function translate(){
      const text=inputText.value.trim();
      if(!text){output.textContent=''; loader.classList.remove('active'); return;}
      loader.classList.add('active');
      const url=`https://translate.googleapis.com/translate_a/single?client=gtx&sl=${sourceSel.value}&tl=${targetSel.value}&dt=t&q=${encodeURIComponent(text)}`;
      fetch(url)
        .then(r=>r.json())
        .then(data=>{
          const translated=data[0].map(i=>i[0]).join('');
          // Forzar espera de 3 segundos
          setTimeout(()=>{
            output.textContent=translated;
            loader.classList.remove('active');
            addHistory(text,translated);
          },3000);
        })
        .catch(()=>{output.textContent='Error al traducir.'; loader.classList.remove('active');});
    }
    translateBtn.addEventListener('click',translate);
    let debounce;
    inputText.addEventListener('input',()=>{
      clearTimeout(debounce);
      debounce=setTimeout(()=>{if(inputText.value.trim())translate();},600);
    });

    swapBtn.addEventListener('click',()=>{
      const temp=sourceSel.value;
      sourceSel.value=targetSel.value;
      targetSel.value=temp;
      const t=inputText.value;
      inputText.value=output.textContent;
      output.textContent=t;
    });

    pronounceBtn.addEventListener('click',()=>{
      const utter=new SpeechSynthesisUtterance(output.textContent||inputText.value);
      utter.lang=targetSel.value||sourceSel.value;
      speechSynthesis.speak(utter);
    });

    copyBtn.addEventListener('click',()=>{
      navigator.clipboard.writeText(output.textContent);
      copyBtn.textContent='‚úÖ';
      setTimeout(()=>copyBtn.textContent='üìã Copiar',1500);
    });

    clearBtn.addEventListener('click',()=>{
      inputText.value='';
      output.textContent='';
      loader.classList.remove('active');
    });

    darkModeToggle.addEventListener('click',()=>{
      document.body.classList.toggle('dark');
      darkModeToggle.textContent=document.body.classList.contains('dark')?'‚òÄÔ∏è':'üåô';
    });

    function addHistory(orig,trans){
      history.unshift({orig,trans,from:sourceSel.value,to:targetSel.value});
      if(history.length>15)history.pop();
      renderHistory();
    }
    function renderHistory(){
      historyList.innerHTML='';
      history.forEach((h,i)=>{
        const div=document.createElement('div');
        div.textContent=`${h.orig.substring(0,30)}‚Ä¶ ‚Üí ${h.trans.substring(0,30)}‚Ä¶`;
        div.addEventListener('click',()=>{
          inputText.value=h.orig;
          output.textContent=h.trans;
          sourceSel.value=h.from;
          targetSel.value=h.to;
        });
        historyList.appendChild(div);
      });
    }
  </script>
</body>
</html>
```