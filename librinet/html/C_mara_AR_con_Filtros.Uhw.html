```html
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>C√°mara AR con Filtros</title>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body {
        font-family: Arial, sans-serif;
        background: #000;
        overflow: hidden;
        position: relative;
    }
    
    #video {
        width: 100%;
        height: 100vh;
        object-fit: cover;
        transform: scaleX(-1);
    }
    
    #canvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
    }
    
    .controls {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 15px;
        background: rgba(0,0,0,0.7);
        padding: 15px;
        border-radius: 50px;
        backdrop-filter: blur(10px);
    }
    
    .filter-btn {
        width: 60px;
        height: 60px;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        font-size: 30px;
        background: rgba(255,255,255,0.2);
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .filter-btn:hover {
        transform: scale(1.1);
        background: rgba(255,255,255,0.3);
    }
    
    .filter-btn.active {
        background: rgba(255,255,255,0.5);
        box-shadow: 0 0 20px rgba(255,255,255,0.5);
    }
    
    .capture-btn {
        width: 70px;
        height: 70px;
        border: 3px solid #fff;
        border-radius: 50%;
        background: #fff;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .capture-btn:active {
        transform: scale(0.9);
    }
    
    .gallery-btn {
        position: absolute;
        top: 20px;
        right: 20px;
        width: 50px;
        height: 50px;
        border: none;
        border-radius: 10px;
        background: rgba(255,255,255,0.2);
        cursor: pointer;
        font-size: 24px;
    }
    
    .flash {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: white;
        opacity: 0;
        pointer-events: none;
    }
    
    @keyframes flashAnimation {
        0% { opacity: 0; }
        50% { opacity: 0.8; }
        100% { opacity: 0; }
    }
</style>
</head>
<body>
<video id="video" autoplay></video>
<canvas id="canvas"></canvas>
<div class="flash" id="flash"></div>

<button class="gallery-btn" onclick="openGallery()">üì∑</button>

<div class="controls">
    <button class="filter-btn" data-filter="none" onclick="setFilter('none')">üòä</button>
    <button class="filter-btn" data-filter="dog" onclick="setFilter('dog')">üê∂</button>
    <button class="filter-btn" data-filter="cat" onclick="setFilter('cat')">üê±</button>
    <button class="filter-btn" data-filter="rabbit" onclick="setFilter('rabbit')">üê∞</button>
    <button class="filter-btn" data-filter="glasses" onclick="setFilter('glasses')">üï∂Ô∏è</button>
    <button class="filter-btn" data-filter="crown" onclick="setFilter('crown')">üëë</button>
    <button class="filter-btn" data-filter="heart" onclick="setFilter('heart')">‚ù§Ô∏è</button>
    <button class="filter-btn" data-filter="star" onclick="setFilter('star')">‚≠ê</button>
    <button class="capture-btn" onclick="capture()"></button>
</div>

<script>
    const video = document.getElementById('video');
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let currentFilter = 'none';
    let stream;
    
    // Iniciar c√°mara
    async function initCamera() {
        try {
            stream = await navigator.mediaDevices.getUserMedia({ 
                video: { facingMode: 'user' },
                audio: false 
            });
            video.srcObject = stream;
        } catch (err) {
            console.error('Error al acceder a la c√°mara:', err);
        }
    }
    
    // Dibujar filtros
    function drawFilter() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        if (currentFilter !== 'none') {
            ctx.save();
            ctx.scale(-1, 1);
            ctx.translate(-canvas.width, 0);
            
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const size = Math.min(canvas.width, canvas.height) * 0.3;
            
            switch(currentFilter) {
                case 'dog':
                    // Orejas de perro
                    ctx.fillStyle = '#8B4513';
                    ctx.beginPath();
                    ctx.ellipse(centerX - 80, centerY - 150, 50, 80, -0.3, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.beginPath();
                    ctx.ellipse(centerX + 80, centerY - 150, 50, 80, 0.3, 0, Math.PI * 2);
                    ctx.fill();
                    // Nariz
                    ctx.fillStyle = '#000';
                    ctx.beginPath();
                    ctx.ellipse(centerX, centerY - 30, 25, 20, 0, 0, Math.PI * 2);
                    ctx.fill();
                    // Lengua
                    ctx.fillStyle = '#FF69B4';
                    ctx.beginPath();
                    ctx.ellipse(centerX, centerY + 20, 20, 30, 0, 0, Math.PI * 2);
                    ctx.fill();
                    break;
                    
                case 'cat':
                    // Orejas de gato
                    ctx.fillStyle = '#FFA500';
                    ctx.beginPath();
                    ctx.moveTo(centerX - 80, centerY - 150);
                    ctx.lineTo(centerX - 120, centerY - 220);
                    ctx.lineTo(centerX - 40, centerY - 180);
                    ctx.closePath();
                    ctx.fill();
                    ctx.beginPath();
                    ctx.moveTo(centerX + 80, centerY - 150);
                    ctx.lineTo(centerX + 120, centerY - 220);
                    ctx.lineTo(centerX + 40, centerY - 180);
                    ctx.closePath();
                    ctx.fill();
                    // Bigotes
                    ctx.strokeStyle = '#000';
                    ctx.lineWidth = 3;
                    for(let i = 0; i < 3; i++) {
                        ctx.beginPath();
                        ctx.moveTo(centerX - 60, centerY - 40 + i * 15);
                        ctx.lineTo(centerX - 120, centerY - 45 + i * 15);
                        ctx.stroke();
                        ctx.beginPath();
                        ctx.moveTo(centerX + 60, centerY - 40 + i * 15);
                        ctx.lineTo(centerX + 120, centerY - 45 + i * 15);
                        ctx.stroke();
                    }
                    break;
                    
                case 'rabbit':
                    // Orejas de conejo
                    ctx.fillStyle = '#FFB6C1';
                    ctx.beginPath();
                    ctx.ellipse(centerX - 60, centerY - 180, 30, 100, -0.2, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.beginPath();
                    ctx.ellipse(centerX + 60, centerY - 180, 30, 100, 0.2, 0, Math.PI * 2);
                    ctx.fill();
                    // Nariz
                    ctx.fillStyle = '#FF69B4';
                    ctx.beginPath();
                    ctx.ellipse(centerX, centerY - 20, 20, 15, 0, 0, Math.PI * 2);
                    ctx.fill();
                    break;
                    
                case 'glasses':
                    // Gafas
                    ctx.strokeStyle = '#000';
                    ctx.lineWidth = 8;
                    ctx.beginPath();
                    ctx.arc(centerX - 60, centerY - 30, 50, 0, Math.PI * 2);
                    ctx.stroke();
                    ctx.beginPath();
                    ctx.arc(centerX + 60, centerY - 30, 50, 0, Math.PI * 2);
                    ctx.stroke();
                    ctx.beginPath();
                    ctx.moveTo(centerX - 10, centerY - 30);
                    ctx.lineTo(centerX + 10, centerY - 30);
                    ctx.stroke();
                    break;
                    
                case 'crown':
                    // Corona
                    ctx.fillStyle = '#FFD700';
                    ctx.beginPath();
                    ctx.moveTo(centerX - 100, centerY - 80);
                    for(let i = 0; i < 5; i++) {
                        const x = centerX - 100 + i * 50;
                        const y = i % 2 === 0 ? centerY - 120 : centerY - 80;
                        ctx.lineTo(x, y);
                    }
                    ctx.lineTo(centerX + 100, centerY - 80);
                    ctx.lineTo(centerX + 100, centerY - 60);
                    ctx.lineTo(centerX - 100, centerY - 60);
                    ctx.closePath();
                    ctx.fill();
                    // Joyas
                    ctx.fillStyle = '#FF0000';
                    for(let i = 0; i < 3; i++) {
                        ctx.beginPath();
                        ctx.arc(centerX - 50 + i * 50, centerY - 100, 8, 0, Math.PI * 2);
                        ctx.fill();
                    }
                    break;
                    
                case 'heart':
                    // Corazones flotantes
                    ctx.fillStyle = '#FF1493';
                    for(let i = 0; i < 5; i++) {
                        const x = centerX - 150 + i * 75;
                        const y = centerY - 150 + Math.sin(i) * 30;
                        drawHeart(x, y, 30);
                    }
                    break;
                    
                case 'star':
                    // Estrellas
                    ctx.fillStyle = '#FFFF00';
                    for(let i = 0; i < 8; i++) {
                        const angle = (i / 8) * Math.PI * 2;
                        const x = centerX + Math.cos(angle) * 120;
                        const y = centerY - 50 + Math.sin(angle) * 80;
                        drawStar(x, y, 20);
                    }
                    break;
            }
            
            ctx.restore();
        }
        
        requestAnimationFrame(drawFilter);
    }
    
    function drawHeart(x, y, size) {
        ctx.beginPath();
        ctx.moveTo(x, y + size / 4);
        ctx.bezierCurveTo(x, y, x - size / 2, y, x - size / 2, y + size / 4);
        ctx.bezierCurveTo(x - size / 2, y + size / 2, x, y + size / 2, x, y + size);
        ctx.bezierCurveTo(x, y + size / 2, x + size / 2, y + size / 2, x + size / 2, y + size / 4);
        ctx.bezierCurveTo(x + size / 2, y, x, y, x, y + size / 4);
        ctx.fill();
    }
    
    function drawStar(x, y, size) {
        ctx.beginPath();
        for(let i = 0; i < 5; i++) {
            const angle = (i * 4 * Math.PI) / 5 - Math.PI / 2;
            const px = x + Math.cos(angle) * size;
            const py = y + Math.sin(angle) * size;
            if(i === 0) ctx.moveTo(px, py);
            else ctx.lineTo(px, py);
        }
        ctx.closePath();
        ctx.fill();
    }
    
    function setFilter(filter) {
        currentFilter = filter;
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        document.querySelector(`[data-filter="${filter}"]`).classList.add('active');
    }
    
    function capture() {
        // Flash
        const flash = document.getElementById('flash');
        flash.style.animation = 'flashAnimation 0.3s';
        
        // Crear canvas temporal para la captura
        const tempCanvas = document.createElement('canvas');
        const tempCtx = tempCanvas.getContext('2d');
        tempCanvas.width = video.videoWidth;
        tempCanvas.height = video.videoHeight;
        
        // Dibujar video
        tempCtx.save();
        tempCtx.scale(-1, 1);
        tempCtx.drawImage(video, -tempCanvas.width, 0, tempCanvas.width, tempCanvas.height);
        tempCtx.restore();
        
        // Aplicar filtro
        if(currentFilter !== 'none') {
            ctx.save();
            ctx.scale(-1, 1);
            ctx.translate(-canvas.width, 0);
            tempCtx.drawImage(canvas, 0, 0);
            ctx.restore();
        }
        
        // Guardar imagen
        const link = document.createElement('a');
        link.download = `camara_ar_${Date.now()}.png`;
        link.href = tempCanvas.toDataURL();
        link.click();
        
        setTimeout(() => {
            flash.style.animation = '';
        }, 300);
    }
    
    function openGallery() {
        alert('Galer√≠a de fotos - Pr√≥ximamente');
    }
    
    // Inicializar
    video.addEventListener('loadedmetadata', () => {
        canvas.width = video.videoWidth;
        canvas.height = video.videoHeight;
        drawFilter();
    });
    
    initCamera();
</script>
</body>
</html>
```