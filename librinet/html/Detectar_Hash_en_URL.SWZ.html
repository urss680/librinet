```html
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Detectar Hash en URL</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: 2em auto; padding: 1em; }
    .hash { color: #0066cc; font-weight: bold; }
    .tipo-hash { margin-top: 10px; }
    input[type="text"] { width: 70%; padding: 5px; margin: 10px 0; }
    button { padding: 6px 12px; margin-left: 5px; }
  </style>
</head>
<body>
  <h2>Fragmento-hash (parte de la URL después de #)</h2>
  <p>URL actual: <span id="url"></span></p>
  <p>Fragmento-hash: <span class="hash" id="hash"></span></p>
  <p>Detected hash type: <span class="tipo-hash" id="tipoHash"></span></p>

  <input type="text" id="manualHash" placeholder="Escribe un hash aquí">
  <button onclick="actualizar()">Actualizar</button>
  <button onclick="escribirHash()">Escribir Hash</button>

  <script>
    const url = window.location.href;
    document.getElementById('url').textContent = url;

    function detectarTipoHash(hashStr) {
      const patrones = {
        'NTLM': /^[0-9a-fA-F]{32}$/,
        'MD5': /^[0-9a-fA-F]{32}$/,
        'SHA-1': /^[0-9a-fA-F]{40}$/,
        'SHA-256': /^[0-9a-fA-F]{64}$/
      };

      for (const [tipo, patron] of Object.entries(patrones)) {
        if (patron.test(hashStr)) return tipo;
      }
      return 'Fragmento no válido';
    }

    function mostrarHash(hashStr) {
      document.getElementById('hash').textContent = hashStr || 'Ningún fragmento detectado';
      document.getElementById('tipoHash').innerHTML = 
        `<strong>Tipo de hash:</strong> ${detectarTipoHash(hashStr)}`;
    }

    // Cargar hash inicial desde URL
    function cargarDesdeURL() {
      const hashURL = window.location.hash.substring(1);
      mostrarHash(hashURL);
    }

    // Actualizar desde URL actual (botón Actualizar)
    function actualizar() {
      cargarDesdeURL();
    }

    // Enviar hash manual (botón Escribir)
    function escribirHash() {
      const hashManual = document.getElementById('manualHash').value;
      mostrarHash(hashManual);
    }

    window.onload = cargarDesdeURL;
  </script>
</body>
</html>
```